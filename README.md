# FPGA_elevator
基于FPGA的电梯控制器  具体参报告  牛小燕-3-17041129-杨宇晨.doc

输入模块
---
输入模块采用自制键盘，参考fpga说明书上电路图焊接，一共焊接了6个按键，其中4个代表电梯内部指示楼层，1个为报警按钮，1个为开关门按钮

显示控制模块
---
显示控制模块前接输入和分频后的时钟，后接7447芯片连接数码管输出，没有采用数字的直接跳变而是每过一个时钟周期，数字向上/下变换一次，配合步进电机的时钟分频，可以跟电梯运行契合，达到了电梯的显示效果

电机控制模块
---
电机的控制没有采用类似显示控制模块的方法，使用了传统方法。定义了c_f，n_f分别表示现态和次态，开关门信号来使现态和次态转换。输出的c给接下来的计数器来使电机转动延时，由此达到电机转动使电梯运行更久的效果，输出d给步进电机模块使步进电机正/反向旋转，来模拟真实电梯上下楼的效果。


计数器模块
---
计数器模块通过电机控制模块给的信号来调整计数终点，来使电机运动延时，输入的时钟信号为分频之后的信号，计数的结果cnt_out连接步进电机模块的使能端来控制步进电机的转动和停止，注意输入rst信号和输出的return_sig，count都是用于仿真测试的，没有在电路中接入。

结语
---
用Verilog硬件描述语言的形式进行数字系统的设计方便灵活，利用EDA软件进行编译优化仿真极大地减少了电路设计时间和可能发生的错误。降低了开发成本，这中设计方法必将在未来的数字系统设计中发挥越来越重的作用。
FPGA在实现电梯控制方面比较灵活，可以通过对程序的修改来达到控制多个楼层，本设计能准确分辨呼叫楼层以及准确控制电梯的运行调度，但是也存在操作困难，只支持单人控制的不足之处。创新之处在于通过显示控制模块没有采用数字的直接跳变而是每过一个时钟周期，数字向上/下变换一次，配合步进电机的时钟分频，来达到跟电梯运行契合的效果。
